(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{67:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(5),o=n.n(r),i=n(10),u=n(4),s=n(9),l=n.n(s);l.a.defaults.baseURL="https://pixabay.com/api";var j=function(e,t){return l.a.get("/?q=".concat(e,"&page=").concat(t,"&key=").concat("19742000-8f2cd71a75112bf6e0b5f6064","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data}))},b=n(1);var m=function(e){var t=e.onSubmit,n=Object(a.useState)(""),c=Object(u.a)(n,2),r=c[0],o=c[1];return Object(b.jsx)("header",{className:"Searchbar",children:Object(b.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),t(r)},children:[Object(b.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(b.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(b.jsx)("input",{className:"SearchForm-input",type:"text",value:r,onChange:function(e){var t=e.target.value;o(t)},autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})};var d=function(e){var t=e.children;return Object(b.jsx)("ul",{className:"ImageGallery",children:t})};var f=function(e){var t=e.webformatURL,n=e.tags,a=e.largeImageURL,c=e.onClickImg;return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("li",{className:"ImageGalleryItem",children:Object(b.jsx)("img",{onClick:c,src:t,alt:n,className:"ImageGalleryItem-image","data-largeurl":a})})})};var O=function(e){var t=e.onClickBtn;return Object(b.jsx)("button",{className:"Button",onClick:function(){t()},children:"Load more"})},h=n(19),g=n(20),v=n(23),p=n(22),x=n(21),y=n.n(x),S=function(e){Object(v.a)(n,e);var t=Object(p.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"render",value:function(){return Object(b.jsx)(y.a,{className:"Loader",type:"ThreeDots",color:"#00BFFF",height:80,width:80})}}]),n}(c.a.Component);var k=function(e){var t=e.largeurl,n=e.alt,c=e.onOverlay,r=e.escFunctionModal;return Object(a.useEffect)((function(){return document.addEventListener("keydown",r,!1),function(){document.removeEventListener("keydown",r,!1)}}),[]),Object(b.jsx)("div",{className:"Overlay",onClick:c,children:Object(b.jsx)("div",{className:"Modal",children:Object(b.jsx)("img",{src:t,alt:n})})})};n(67);var N=function(){var e=Object(a.useState)(!1),t=Object(u.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),s=Object(u.a)(r,2),l=s[0],h=s[1],g=Object(a.useState)(""),v=Object(u.a)(g,2),p=v[0],x=v[1],y=Object(a.useState)(1),N=Object(u.a)(y,2),C=N[0],w=N[1],F=Object(a.useState)(!1),I=Object(u.a)(F,2),L=I[0],E=I[1],R=document.getElementById("modal-root");function U(e){var t=e.target.alt,n=e.target.dataset.largeurl;o.a.render(Object(b.jsx)(k,{largeurl:n,alt:t,onOverlay:B,escFunctionModal:M}),R)}function B(e){e.target===e.currentTarget&&o.a.unmountComponentAtNode(R)}function M(e){27===e.keyCode&&o.a.unmountComponentAtNode(R)}return Object(a.useEffect)((function(){if(!n)return c(!0);E(!0),j(p,C).then((function(e){h((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e.hits))}))})).finally((function(){E(!1),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}))}),[p,C]),Object(a.useEffect)((function(){h([]),w(1)}),[p]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(m,{onSubmit:function(e){x(e)}}),L&&Object(b.jsx)(S,{}),Object(b.jsx)(d,{children:l.map((function(e){var t=e.id,n=e.webformatURL,a=e.tags,c=e.largeImageURL;return Object(b.jsx)(f,{webformatURL:n,tags:a,largeImageURL:c,onClickImg:U},t)}))}),!!l.length&&Object(b.jsx)(O,{onClickBtn:function(){w((function(e){return e+1}))}})]})};o.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(N,{})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.30d006ad.chunk.js.map